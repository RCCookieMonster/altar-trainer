:root{
  --bg:#f7f7fb; --card:#ffffff; --text:#111827; --muted:#6b7280;
  --outline:#e5e7eb; --ok:#16a34a; --warn:#f59e0b; --bad:#dc2626;
}
*{ box-sizing:border-box; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
body{ margin:0; background:var(--bg); color:var(--text); }
header{ padding:16px 18px 0; }
header h1{ margin:0 0 6px; font-size:22px; }
header p{ margin:0 0 12px; color:var(--muted); }

.layout{ display:grid; grid-template-columns: 320px 1fr; gap:14px; padding:14px 18px 18px; }
.tray, .board-wrap{ background:var(--card); border:1px solid var(--outline); border-radius:12px; padding:12px; }
.tray h2, .board-wrap h2{ margin:0 0 10px; font-size:16px; }

.tray-items{ display:grid; grid-template-columns: repeat(2, 1fr); gap:10px; }
.tray-item{
  border:1px dashed var(--outline); border-radius:10px; padding:10px;
  background:#fcfcff; display:flex; align-items:center; justify-content:center;
  position:relative; min-height:92px; user-select:none;
}
.tray-item img{ width:72px; height:auto; pointer-events:none; }
.tag{ position:absolute; bottom:6px; left:8px; font-size:12px; color:var(--muted); }

.buttons{ display:flex; gap:10px; margin-top:12px; }
button{ flex:1; padding:10px; border-radius:10px; border:1px solid var(--outline); background:white; cursor:pointer; }
button.primary{ border-color:#c7d2fe; background:#eef2ff; }

.status{
  margin-top:12px; padding:10px; border-radius:10px; border:1px solid var(--outline);
  min-height:64px; color:var(--muted); white-space:pre-wrap; background:#fff;
}

.board{
  position:relative; width:min(900px, 100%);
  aspect-ratio: 16 / 9; border-radius:14px; overflow:hidden;
  border:1px solid var(--outline); background:#fff;
}
.altar{ position:absolute; inset:0; width:100%; height:100%; object-fit:contain; pointer-events:none; }

.piece{
  position:absolute; width:90px; height:auto;
  touch-action:none; user-select:none; cursor:grab; transform-origin:center center;
}
.piece:active{ cursor:grabbing; }

.hint{ color:var(--muted); margin:10px 0 0; font-size:13px; }

@media (max-width: 900px){ .layout{ grid-template-columns: 1fr; } }
